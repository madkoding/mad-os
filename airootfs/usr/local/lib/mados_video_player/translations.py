"""
madOS Video Player - Translations
==================================

Internationalization support for 6 languages:
English, Español, Français, Deutsch, Chinese, Japanese.

All UI strings are stored in the TRANSLATIONS dictionary keyed by language name.
"""

TRANSLATIONS = {
    "English": {
        "title": "madOS Video Player",
        "open_file": "Open File...",
        "open_directory": "Open Directory...",
        "open_url": "Open URL...",
        "quit": "Quit",
        "file": "File",
        "playback": "Playback",
        "audio": "Audio",
        "video": "Video",
        "subtitle": "Subtitle",
        "view": "View",
        "help": "Help",
        "play": "Play",
        "pause": "Pause",
        "stop": "Stop",
        "next_track": "Next",
        "prev_track": "Previous",
        "forward_10": "Forward 10s",
        "backward_10": "Backward 10s",
        "forward_60": "Forward 60s",
        "backward_60": "Backward 60s",
        "speed_up": "Speed Up",
        "speed_down": "Speed Down",
        "normal_speed": "Normal Speed",
        "fullscreen": "Fullscreen",
        "exit_fullscreen": "Exit Fullscreen",
        "playlist": "Playlist",
        "show_playlist": "Show Playlist",
        "hide_playlist": "Hide Playlist",
        "shuffle": "Shuffle",
        "repeat": "Repeat",
        "repeat_off": "Repeat: Off",
        "repeat_all": "Repeat: All",
        "repeat_one": "Repeat: One",
        "volume": "Volume",
        "mute": "Mute",
        "unmute": "Unmute",
        "volume_up": "Volume Up",
        "volume_down": "Volume Down",
        "add_files": "Add Files...",
        "add_directory": "Add Directory...",
        "clear_playlist": "Clear Playlist",
        "remove_selected": "Remove Selected",
        "no_file": "No file loaded",
        "loading": "Loading...",
        "error": "Error",
        "about": "About",
        "about_text": "madOS Video Player v{version}\n\nA professional video player for madOS.\nPowered by GStreamer.",
        "language": "Language",
        "playback_speed": "Speed: {speed}x",
        "aspect_ratio": "Aspect Ratio",
        "aspect_default": "Default",
        "aspect_16_9": "16:9",
        "aspect_4_3": "4:3",
        "aspect_1_1": "1:1",
        "aspect_stretch": "Stretch",
        "open_subtitle": "Open Subtitle File...",
        "drop_files_here": "Drop files here or click Open",
        "of": "of",
        "save_playlist": "Save Playlist...",
        "load_playlist": "Load Playlist...",
        "manage_playlists": "Manage Playlists...",
        "delete_playlist": "Delete",
        "rename_playlist": "Rename",
        "playlist_name": "Playlist Name",
        "playlist_saved": "Playlist saved",
        "playlist_loaded": "Playlist loaded",
        "playlist_deleted": "Playlist deleted",
        "no_saved_playlists": "No saved playlists",
        "confirm_delete": "Are you sure you want to delete this playlist?",
        "new_name": "New name",
        "save": "Save",
        "load": "Load",
        "cancel": "Cancel",
        "ok": "OK",
        "close": "Close",
    },
    "Español": {
        "title": "Reproductor de Video madOS",
        "open_file": "Abrir archivo...",
        "open_directory": "Abrir directorio...",
        "open_url": "Abrir URL...",
        "quit": "Salir",
        "file": "Archivo",
        "playback": "Reproduccion",
        "audio": "Audio",
        "video": "Video",
        "subtitle": "Subtitulos",
        "view": "Vista",
        "help": "Ayuda",
        "play": "Reproducir",
        "pause": "Pausar",
        "stop": "Detener",
        "next_track": "Siguiente",
        "prev_track": "Anterior",
        "forward_10": "Adelantar 10s",
        "backward_10": "Retroceder 10s",
        "forward_60": "Adelantar 60s",
        "backward_60": "Retroceder 60s",
        "speed_up": "Mas rapido",
        "speed_down": "Mas lento",
        "normal_speed": "Velocidad normal",
        "fullscreen": "Pantalla completa",
        "exit_fullscreen": "Salir de pantalla completa",
        "playlist": "Lista de reproduccion",
        "show_playlist": "Mostrar lista",
        "hide_playlist": "Ocultar lista",
        "shuffle": "Aleatorio",
        "repeat": "Repetir",
        "repeat_off": "Repetir: Desactivado",
        "repeat_all": "Repetir: Todo",
        "repeat_one": "Repetir: Uno",
        "volume": "Volumen",
        "mute": "Silenciar",
        "unmute": "Activar sonido",
        "volume_up": "Subir volumen",
        "volume_down": "Bajar volumen",
        "add_files": "Agregar archivos...",
        "add_directory": "Agregar directorio...",
        "clear_playlist": "Limpiar lista",
        "remove_selected": "Eliminar seleccionado",
        "no_file": "Ningun archivo cargado",
        "loading": "Cargando...",
        "error": "Error",
        "about": "Acerca de",
        "about_text": "Reproductor de Video madOS v{version}\n\nUn reproductor de video profesional para madOS.\nImpulsado por GStreamer.",
        "language": "Idioma",
        "playback_speed": "Velocidad: {speed}x",
        "aspect_ratio": "Relacion de aspecto",
        "aspect_default": "Predeterminado",
        "aspect_16_9": "16:9",
        "aspect_4_3": "4:3",
        "aspect_1_1": "1:1",
        "aspect_stretch": "Estirar",
        "open_subtitle": "Abrir archivo de subtitulos...",
        "drop_files_here": "Arrastre archivos aqui o haga clic en Abrir",
        "of": "de",
        "save_playlist": "Guardar lista...",
        "load_playlist": "Cargar lista...",
        "manage_playlists": "Administrar listas...",
        "delete_playlist": "Eliminar",
        "rename_playlist": "Renombrar",
        "playlist_name": "Nombre de la lista",
        "playlist_saved": "Lista guardada",
        "playlist_loaded": "Lista cargada",
        "playlist_deleted": "Lista eliminada",
        "no_saved_playlists": "No hay listas guardadas",
        "confirm_delete": "¿Seguro que desea eliminar esta lista?",
        "new_name": "Nuevo nombre",
        "save": "Guardar",
        "load": "Cargar",
        "cancel": "Cancelar",
        "ok": "Aceptar",
        "close": "Cerrar",
    },
    "Français": {
        "title": "Lecteur Video madOS",
        "open_file": "Ouvrir un fichier...",
        "open_directory": "Ouvrir un repertoire...",
        "open_url": "Ouvrir une URL...",
        "quit": "Quitter",
        "file": "Fichier",
        "playback": "Lecture",
        "audio": "Audio",
        "video": "Video",
        "subtitle": "Sous-titres",
        "view": "Affichage",
        "help": "Aide",
        "play": "Lecture",
        "pause": "Pause",
        "stop": "Arreter",
        "next_track": "Suivant",
        "prev_track": "Precedent",
        "forward_10": "Avancer 10s",
        "backward_10": "Reculer 10s",
        "forward_60": "Avancer 60s",
        "backward_60": "Reculer 60s",
        "speed_up": "Plus rapide",
        "speed_down": "Plus lent",
        "normal_speed": "Vitesse normale",
        "fullscreen": "Plein ecran",
        "exit_fullscreen": "Quitter le plein ecran",
        "playlist": "Liste de lecture",
        "show_playlist": "Afficher la liste",
        "hide_playlist": "Masquer la liste",
        "shuffle": "Aleatoire",
        "repeat": "Repeter",
        "repeat_off": "Repeter: Desactive",
        "repeat_all": "Repeter: Tout",
        "repeat_one": "Repeter: Un",
        "volume": "Volume",
        "mute": "Couper le son",
        "unmute": "Activer le son",
        "volume_up": "Augmenter le volume",
        "volume_down": "Diminuer le volume",
        "add_files": "Ajouter des fichiers...",
        "add_directory": "Ajouter un repertoire...",
        "clear_playlist": "Vider la liste",
        "remove_selected": "Supprimer la selection",
        "no_file": "Aucun fichier charge",
        "loading": "Chargement...",
        "error": "Erreur",
        "about": "A propos",
        "about_text": "Lecteur Video madOS v{version}\n\nUn lecteur video professionnel pour madOS.\nAlimente par GStreamer.",
        "language": "Langue",
        "playback_speed": "Vitesse: {speed}x",
        "aspect_ratio": "Rapport d'aspect",
        "aspect_default": "Par defaut",
        "aspect_16_9": "16:9",
        "aspect_4_3": "4:3",
        "aspect_1_1": "1:1",
        "aspect_stretch": "Etirer",
        "open_subtitle": "Ouvrir un fichier de sous-titres...",
        "drop_files_here": "Deposez des fichiers ici ou cliquez sur Ouvrir",
        "of": "sur",
        "save_playlist": "Enregistrer la liste...",
        "load_playlist": "Charger la liste...",
        "manage_playlists": "Gerer les listes...",
        "delete_playlist": "Supprimer",
        "rename_playlist": "Renommer",
        "playlist_name": "Nom de la liste",
        "playlist_saved": "Liste enregistree",
        "playlist_loaded": "Liste chargee",
        "playlist_deleted": "Liste supprimee",
        "no_saved_playlists": "Aucune liste enregistree",
        "confirm_delete": "Etes-vous sur de vouloir supprimer cette liste?",
        "new_name": "Nouveau nom",
        "save": "Enregistrer",
        "load": "Charger",
        "cancel": "Annuler",
        "ok": "OK",
        "close": "Fermer",
    },
    "Deutsch": {
        "title": "madOS Videoplayer",
        "open_file": "Datei oeffnen...",
        "open_directory": "Verzeichnis oeffnen...",
        "open_url": "URL oeffnen...",
        "quit": "Beenden",
        "file": "Datei",
        "playback": "Wiedergabe",
        "audio": "Audio",
        "video": "Video",
        "subtitle": "Untertitel",
        "view": "Ansicht",
        "help": "Hilfe",
        "play": "Abspielen",
        "pause": "Pausieren",
        "stop": "Stoppen",
        "next_track": "Naechster",
        "prev_track": "Vorheriger",
        "forward_10": "10s vorwaerts",
        "backward_10": "10s rueckwaerts",
        "forward_60": "60s vorwaerts",
        "backward_60": "60s rueckwaerts",
        "speed_up": "Schneller",
        "speed_down": "Langsamer",
        "normal_speed": "Normale Geschwindigkeit",
        "fullscreen": "Vollbild",
        "exit_fullscreen": "Vollbild verlassen",
        "playlist": "Wiedergabeliste",
        "show_playlist": "Liste anzeigen",
        "hide_playlist": "Liste ausblenden",
        "shuffle": "Zufaellig",
        "repeat": "Wiederholen",
        "repeat_off": "Wiederholen: Aus",
        "repeat_all": "Wiederholen: Alle",
        "repeat_one": "Wiederholen: Eins",
        "volume": "Lautstaerke",
        "mute": "Stummschalten",
        "unmute": "Ton einschalten",
        "volume_up": "Lauter",
        "volume_down": "Leiser",
        "add_files": "Dateien hinzufuegen...",
        "add_directory": "Verzeichnis hinzufuegen...",
        "clear_playlist": "Liste leeren",
        "remove_selected": "Auswahl entfernen",
        "no_file": "Keine Datei geladen",
        "loading": "Laden...",
        "error": "Fehler",
        "about": "Ueber",
        "about_text": "madOS Videoplayer v{version}\n\nEin professioneller Videoplayer fuer madOS.\nAngetrieben von GStreamer.",
        "language": "Sprache",
        "playback_speed": "Geschwindigkeit: {speed}x",
        "aspect_ratio": "Seitenverhaeltnis",
        "aspect_default": "Standard",
        "aspect_16_9": "16:9",
        "aspect_4_3": "4:3",
        "aspect_1_1": "1:1",
        "aspect_stretch": "Strecken",
        "open_subtitle": "Untertiteldatei oeffnen...",
        "drop_files_here": "Dateien hier ablegen oder Oeffnen klicken",
        "of": "von",
        "save_playlist": "Liste speichern...",
        "load_playlist": "Liste laden...",
        "manage_playlists": "Listen verwalten...",
        "delete_playlist": "Loeschen",
        "rename_playlist": "Umbenennen",
        "playlist_name": "Listenname",
        "playlist_saved": "Liste gespeichert",
        "playlist_loaded": "Liste geladen",
        "playlist_deleted": "Liste geloescht",
        "no_saved_playlists": "Keine gespeicherten Listen",
        "confirm_delete": "Sind Sie sicher, dass Sie diese Liste loeschen moechten?",
        "new_name": "Neuer Name",
        "save": "Speichern",
        "load": "Laden",
        "cancel": "Abbrechen",
        "ok": "OK",
        "close": "Schliessen",
    },
    "\u4e2d\u6587": {
        "title": "madOS \u89c6\u9891\u64ad\u653e\u5668",
        "open_file": "\u6253\u5f00\u6587\u4ef6...",
        "open_directory": "\u6253\u5f00\u76ee\u5f55...",
        "open_url": "\u6253\u5f00 URL...",
        "quit": "\u9000\u51fa",
        "file": "\u6587\u4ef6",
        "playback": "\u64ad\u653e",
        "audio": "\u97f3\u9891",
        "video": "\u89c6\u9891",
        "subtitle": "\u5b57\u5e55",
        "view": "\u89c6\u56fe",
        "help": "\u5e2e\u52a9",
        "play": "\u64ad\u653e",
        "pause": "\u6682\u505c",
        "stop": "\u505c\u6b62",
        "next_track": "\u4e0b\u4e00\u4e2a",
        "prev_track": "\u4e0a\u4e00\u4e2a",
        "forward_10": "\u5feb\u8fdb 10\u79d2",
        "backward_10": "\u5feb\u9000 10\u79d2",
        "forward_60": "\u5feb\u8fdb 60\u79d2",
        "backward_60": "\u5feb\u9000 60\u79d2",
        "speed_up": "\u52a0\u901f",
        "speed_down": "\u51cf\u901f",
        "normal_speed": "\u6b63\u5e38\u901f\u5ea6",
        "fullscreen": "\u5168\u5c4f",
        "exit_fullscreen": "\u9000\u51fa\u5168\u5c4f",
        "playlist": "\u64ad\u653e\u5217\u8868",
        "show_playlist": "\u663e\u793a\u5217\u8868",
        "hide_playlist": "\u9690\u85cf\u5217\u8868",
        "shuffle": "\u968f\u673a",
        "repeat": "\u91cd\u590d",
        "repeat_off": "\u91cd\u590d\uff1a\u5173\u95ed",
        "repeat_all": "\u91cd\u590d\uff1a\u5168\u90e8",
        "repeat_one": "\u91cd\u590d\uff1a\u5355\u66f2",
        "volume": "\u97f3\u91cf",
        "mute": "\u9759\u97f3",
        "unmute": "\u53d6\u6d88\u9759\u97f3",
        "volume_up": "\u589e\u5927\u97f3\u91cf",
        "volume_down": "\u51cf\u5c0f\u97f3\u91cf",
        "add_files": "\u6dfb\u52a0\u6587\u4ef6...",
        "add_directory": "\u6dfb\u52a0\u76ee\u5f55...",
        "clear_playlist": "\u6e05\u7a7a\u5217\u8868",
        "remove_selected": "\u5220\u9664\u9009\u4e2d",
        "no_file": "\u672a\u52a0\u8f7d\u6587\u4ef6",
        "loading": "\u52a0\u8f7d\u4e2d...",
        "error": "\u9519\u8bef",
        "about": "\u5173\u4e8e",
        "about_text": "madOS \u89c6\u9891\u64ad\u653e\u5668 v{version}\n\nmadOS \u4e13\u4e1a\u89c6\u9891\u64ad\u653e\u5668\u3002\n\u7531 GStreamer \u63d0\u4f9b\u652f\u6301\u3002",
        "language": "\u8bed\u8a00",
        "playback_speed": "\u901f\u5ea6\uff1a{speed}x",
        "aspect_ratio": "\u5bbd\u9ad8\u6bd4",
        "aspect_default": "\u9ed8\u8ba4",
        "aspect_16_9": "16:9",
        "aspect_4_3": "4:3",
        "aspect_1_1": "1:1",
        "aspect_stretch": "\u62c9\u4f38",
        "open_subtitle": "\u6253\u5f00\u5b57\u5e55\u6587\u4ef6...",
        "drop_files_here": "\u62d6\u653e\u6587\u4ef6\u5230\u6b64\u5904\u6216\u70b9\u51fb\u6253\u5f00",
        "of": "/",
        "save_playlist": "\u4fdd\u5b58\u5217\u8868...",
        "load_playlist": "\u52a0\u8f7d\u5217\u8868...",
        "manage_playlists": "\u7ba1\u7406\u5217\u8868...",
        "delete_playlist": "\u5220\u9664",
        "rename_playlist": "\u91cd\u547d\u540d",
        "playlist_name": "\u5217\u8868\u540d\u79f0",
        "playlist_saved": "\u5217\u8868\u5df2\u4fdd\u5b58",
        "playlist_loaded": "\u5217\u8868\u5df2\u52a0\u8f7d",
        "playlist_deleted": "\u5217\u8868\u5df2\u5220\u9664",
        "no_saved_playlists": "\u6ca1\u6709\u4fdd\u5b58\u7684\u5217\u8868",
        "confirm_delete": "\u786e\u5b9a\u8981\u5220\u9664\u6b64\u5217\u8868\u5417\uff1f",
        "new_name": "\u65b0\u540d\u79f0",
        "save": "\u4fdd\u5b58",
        "load": "\u52a0\u8f7d",
        "cancel": "\u53d6\u6d88",
        "ok": "\u786e\u5b9a",
        "close": "\u5173\u95ed",
    },
    "\u65e5\u672c\u8a9e": {
        "title": "madOS \u30d3\u30c7\u30aa\u30d7\u30ec\u30fc\u30e4\u30fc",
        "open_file": "\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f...",
        "open_directory": "\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u958b\u304f...",
        "open_url": "URL\u3092\u958b\u304f...",
        "quit": "\u7d42\u4e86",
        "file": "\u30d5\u30a1\u30a4\u30eb",
        "playback": "\u518d\u751f",
        "audio": "\u30aa\u30fc\u30c7\u30a3\u30aa",
        "video": "\u30d3\u30c7\u30aa",
        "subtitle": "\u5b57\u5e55",
        "view": "\u8868\u793a",
        "help": "\u30d8\u30eb\u30d7",
        "play": "\u518d\u751f",
        "pause": "\u4e00\u6642\u505c\u6b62",
        "stop": "\u505c\u6b62",
        "next_track": "\u6b21\u3078",
        "prev_track": "\u524d\u3078",
        "forward_10": "10\u79d2\u9032\u3080",
        "backward_10": "10\u79d2\u623b\u308b",
        "forward_60": "60\u79d2\u9032\u3080",
        "backward_60": "60\u79d2\u623b\u308b",
        "speed_up": "\u901f\u304f",
        "speed_down": "\u9045\u304f",
        "normal_speed": "\u901a\u5e38\u901f\u5ea6",
        "fullscreen": "\u5168\u753b\u9762",
        "exit_fullscreen": "\u5168\u753b\u9762\u3092\u7d42\u4e86",
        "playlist": "\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8",
        "show_playlist": "\u30ea\u30b9\u30c8\u3092\u8868\u793a",
        "hide_playlist": "\u30ea\u30b9\u30c8\u3092\u975e\u8868\u793a",
        "shuffle": "\u30b7\u30e3\u30c3\u30d5\u30eb",
        "repeat": "\u30ea\u30d4\u30fc\u30c8",
        "repeat_off": "\u30ea\u30d4\u30fc\u30c8\uff1a\u30aa\u30d5",
        "repeat_all": "\u30ea\u30d4\u30fc\u30c8\uff1a\u5168\u66f2",
        "repeat_one": "\u30ea\u30d4\u30fc\u30c8\uff1a1\u66f2",
        "volume": "\u97f3\u91cf",
        "mute": "\u30df\u30e5\u30fc\u30c8",
        "unmute": "\u30df\u30e5\u30fc\u30c8\u89e3\u9664",
        "volume_up": "\u97f3\u91cf\u3092\u4e0a\u3052\u308b",
        "volume_down": "\u97f3\u91cf\u3092\u4e0b\u3052\u308b",
        "add_files": "\u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0...",
        "add_directory": "\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u8ffd\u52a0...",
        "clear_playlist": "\u30ea\u30b9\u30c8\u3092\u30af\u30ea\u30a2",
        "remove_selected": "\u9078\u629e\u3092\u524a\u9664",
        "no_file": "\u30d5\u30a1\u30a4\u30eb\u304c\u8aad\u307f\u8fbc\u307e\u308c\u3066\u3044\u307e\u305b\u3093",
        "loading": "\u8aad\u307f\u8fbc\u307f\u4e2d...",
        "error": "\u30a8\u30e9\u30fc",
        "about": "\u30d0\u30fc\u30b8\u30e7\u30f3\u60c5\u5831",
        "about_text": "madOS \u30d3\u30c7\u30aa\u30d7\u30ec\u30fc\u30e4\u30fc v{version}\n\nmadOS\u7528\u30d7\u30ed\u30d5\u30a7\u30c3\u30b7\u30e7\u30ca\u30eb\u30d3\u30c7\u30aa\u30d7\u30ec\u30fc\u30e4\u30fc\u3002\nGStreamer\u3067\u52d5\u4f5c\u3002",
        "language": "\u8a00\u8a9e",
        "playback_speed": "\u901f\u5ea6\uff1a{speed}x",
        "aspect_ratio": "\u30a2\u30b9\u30da\u30af\u30c8\u6bd4",
        "aspect_default": "\u30c7\u30d5\u30a9\u30eb\u30c8",
        "aspect_16_9": "16:9",
        "aspect_4_3": "4:3",
        "aspect_1_1": "1:1",
        "aspect_stretch": "\u5f15\u304d\u4f38\u3070\u3059",
        "open_subtitle": "\u5b57\u5e55\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f...",
        "drop_files_here": "\u3053\u3053\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u30c9\u30ed\u30c3\u30d7\u3059\u308b\u304b\u958b\u304f\u3092\u30af\u30ea\u30c3\u30af",
        "of": "/",
        "save_playlist": "\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u3092\u4fdd\u5b58...",
        "load_playlist": "\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u3092\u8aad\u307f\u8fbc\u307f...",
        "manage_playlists": "\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u3092\u7ba1\u7406...",
        "delete_playlist": "\u524a\u9664",
        "rename_playlist": "\u540d\u524d\u5909\u66f4",
        "playlist_name": "\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u540d",
        "playlist_saved": "\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f",
        "playlist_loaded": "\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3057\u305f",
        "playlist_deleted": "\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u3092\u524a\u9664\u3057\u307e\u3057\u305f",
        "no_saved_playlists": "\u4fdd\u5b58\u3055\u308c\u305f\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u306f\u3042\u308a\u307e\u305b\u3093",
        "confirm_delete": "\u3053\u306e\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u3092\u524a\u9664\u3057\u307e\u3059\u304b\uff1f",
        "new_name": "\u65b0\u3057\u3044\u540d\u524d",
        "save": "\u4fdd\u5b58",
        "load": "\u8aad\u307f\u8fbc\u307f",
        "cancel": "\u30ad\u30e3\u30f3\u30bb\u30eb",
        "ok": "OK",
        "close": "\u9589\u3058\u308b",
    },
}

DEFAULT_LANGUAGE = "English"


def detect_system_language():
    """Detect the system language from environment variables.

    Checks LANGUAGE first (supports colon-separated list like ``es:en``),
    then LC_ALL, LC_MESSAGES, LANG. Skips ``C`` and ``POSIX`` values.
    Falls back to ``locale.getdefaultlocale()`` and finally English.

    Returns:
        The language name matching available translations, or 'English' as default.
    """
    import os
    import locale

    lang_map = {
        "en": "English",
        "es": "Español",
        "fr": "Français",
        "de": "Deutsch",
        "zh": "\u4e2d\u6587",
        "ja": "\u65e5\u672c\u8a9e",
    }

    def _extract_prefix(code):
        """Extract the two-letter language prefix from a locale code."""
        if not code:
            return None
        prefix = code.split("_")[0].split(".")[0].split("@")[0].lower()
        if prefix in ("c", "posix", ""):
            return None
        return prefix

    # LANGUAGE can contain a colon-separated priority list (e.g. "es:en:fr")
    language_env = os.environ.get("LANGUAGE", "")
    if language_env:
        for part in language_env.split(":"):
            prefix = _extract_prefix(part)
            if prefix and prefix in lang_map:
                return lang_map[prefix]

    # Check standard locale variables
    for var in ("LC_ALL", "LC_MESSAGES", "LANG"):
        code = os.environ.get(var)
        prefix = _extract_prefix(code)
        if prefix and prefix in lang_map:
            return lang_map[prefix]

    # Last resort: Python locale
    try:
        code, _ = locale.getdefaultlocale()
        prefix = _extract_prefix(code)
        if prefix and prefix in lang_map:
            return lang_map[prefix]
    except Exception:
        pass

    return DEFAULT_LANGUAGE


def get_text(key, language=None):
    """Retrieve a translated string for the given key and language.

    Args:
        key: The translation key to look up.
        language: The language name. Falls back to DEFAULT_LANGUAGE if None
                  or if the key is not found in the requested language.

    Returns:
        The translated string, or the key itself if not found anywhere.
    """
    if language is None:
        language = DEFAULT_LANGUAGE
    lang_dict = TRANSLATIONS.get(language, TRANSLATIONS[DEFAULT_LANGUAGE])
    return lang_dict.get(key, TRANSLATIONS[DEFAULT_LANGUAGE].get(key, key))


def get_languages():
    """Return a list of all available language names."""
    return list(TRANSLATIONS.keys())
